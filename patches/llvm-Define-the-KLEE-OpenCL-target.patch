From 929b62cb99068a0ca1876fc6325aa9ceab341c07 Mon Sep 17 00:00:00 2001
From: Peter Collingbourne <peter@pcc.me.uk>
Date: Tue, 26 Jul 2011 20:29:31 +0100
Subject: [PATCH] Define the KLEE-OpenCL target

---
 include/llvm/ADT/Triple.h |    1 +
 lib/Support/Triple.cpp    |    2 ++
 2 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/include/llvm/ADT/Triple.h b/include/llvm/ADT/Triple.h
index 102c95a..d9545f4 100644
--- a/include/llvm/ADT/Triple.h
+++ b/include/llvm/ADT/Triple.h
@@ -84,6 +84,7 @@ public:
     FreeBSD,
     IOS,
     KFreeBSD,
+    KLEEOpenCL,
     Linux,
     Lv2,        // PS3
     MacOSX,
diff --git a/lib/Support/Triple.cpp b/lib/Support/Triple.cpp
index d261c53..4e1ad29 100644
--- a/lib/Support/Triple.cpp
+++ b/lib/Support/Triple.cpp
@@ -104,6 +104,7 @@ const char *Triple::getOSTypeName(OSType Kind) {
   case FreeBSD: return "freebsd";
   case IOS: return "ios";
   case KFreeBSD: return "kfreebsd";
+  case KLEEOpenCL: return "kleeopencl";
   case Linux: return "linux";
   case Lv2: return "lv2";
   case MacOSX: return "macosx";
@@ -270,6 +271,7 @@ static Triple::OSType parseOS(StringRef OSName) {
     .StartsWith("freebsd", Triple::FreeBSD)
     .StartsWith("ios", Triple::IOS)
     .StartsWith("kfreebsd", Triple::KFreeBSD)
+    .StartsWith("kleeopencl", Triple::KLEEOpenCL)
     .StartsWith("linux", Triple::Linux)
     .StartsWith("lv2", Triple::Lv2)
     .StartsWith("macosx", Triple::MacOSX)
-- 
1.7.5.3

